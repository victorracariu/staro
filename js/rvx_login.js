function rvxRunLogin(){var c=new Ext.data.SimpleStore({fields:["name"],data:rvxCompanyList});var b=new Ext.data.SimpleStore({fields:["name"],data:rvxLanguageList});var h="";var d=new Ext.form.ComboBox({fieldLabel:rvx_locale.txtCompany,name:"Company",store:c,displayField:"name",typeAhead:true,mode:"local",triggerAction:"all",emptyText:"",selectOnFocus:true,allowBlank:false,value:rvxLastCompany,width:270});if(rvxCompanyList.length<=1){var d=new Ext.form.TextField({fieldLabel:rvx_locale.txtCompany,name:"Company",readOnly:true,value:rvxCompanyList[0],allowBlank:false,width:270})}var g=new Ext.form.ComboBox({fieldLabel:rvx_locale.txtLanguage,name:"Language",store:b,displayField:"name",typeAhead:true,mode:"local",triggerAction:"all",emptyText:"",selectOnFocus:true,allowBlank:false,value:rvxLastLanguage,width:270});var e=new Ext.data.JsonReader();e.read=Ext.Rvx.CheckJson;var a=new Ext.FormPanel({labelWidth:75,waitMsgTarget:true,url:baseurl+"login/check",frame:true,title:rvx_locale.txtLogin,bodyStyle:"padding:5px 5px 0",width:400,defaultType:"textfield",errorReader:e,items:[d,{fieldLabel:rvx_locale.txtUsername,name:"Username",value:rvxLastUsername,allowBlank:false,width:270},{fieldLabel:rvx_locale.txtPassword,name:"Password",value:rvxLastPassword,inputType:"password",allowBlank:false,width:270},g]});function f(){a.getForm().submit({reset:false,waitMsg:rvx_locale.txtConnecting,success:function(k,j){location.href=baseurl+"main";return true},failure:function(k,j){if(j.failureType=="client"){var l=rvx_locale.txtCheckInput}else{var l=j.response.responseText}if(l){Ext.Msg.show({title:rvx_locale.txtError,msg:l,buttons:Ext.Msg.OK,minWidth:400,icon:Ext.MessageBox.ERROR})}},scope:a})}a.addButton({text:rvx_locale.txtLoginBtn,type:"submit"},f);a.render("divForm");var i=new Ext.KeyMap("divForm",{key:13,fn:f});Ext.get("divContainer").center();Ext.get("divContainer").setTop(100);a.getForm().findField("Company").focus()};