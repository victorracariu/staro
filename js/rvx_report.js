function rvxRunReport(){var b=0;var e=new Ext.data.ArrayReader({},[{name:"Id"},{name:"Report"},{name:"Folder"}]);var d=Ext.grid;var h=new d.GridPanel({title:rvx_locale.txtReportList,region:"west",frame:true,split:true,width:400,height:450,store:new Ext.data.GroupingStore({reader:e,data:d.ReportData,sortInfo:{field:"Id",direction:"ASC"},groupField:"Folder"}),columns:[{id:"Id",header:"Id",width:100,dataIndex:"Id"},{header:rvx_locale.txtReport,width:250,dataIndex:"Report"},{header:"",width:250,dataIndex:"Folder",hidden:true}],view:new Ext.grid.GroupingView({groupTextTpl:"{text} ({[values.rs.length]})"})});function f(k,m){var l=h.getSelectionModel().getSelected();if(l){var i=rvxReportUrl+"/display/id/"+l.get("Id");if(k){i=i+"/btn/"+k.id}var j=Math.floor(Math.random()*1000);c.getForm().getEl().dom.action=i;c.getForm().getEl().dom.target="rvxrpt"+j;c.getForm().getEl().dom.submit()}}var c=new Ext.ux.MetaTabsForm({title:rvx_locale.txtReportParams,region:"center",layout:"fit",activeTab:0,frame:true,layoutOnTabChange:true,deferredRender:false,url:rvxReportUrl+"/renderparams/",buttons:[{id:"pdf",text:rvx_locale.txtDisplay,handler:f},{id:"html",name:"html",text:"HTML",handler:f},{id:"xls",name:"xls",text:"XLS",handler:f},{id:"csv",name:"csv",text:"CSV",handler:f},{id:"chart",name:"chart",text:"Chart",handler:f}]});var a=new Ext.Viewport({renderTo:"divForm",layout:"border",items:[h,c]});function g(){c.el.unmask()}h.on("rowclick",function(i,l,k){var j=h.getSelectionModel().getSelected();if(j){if(b==j.get("Id")){return true}b=j.get("Id");c.url=rvxReportUrl+"/renderparams/id/"+b;c.getForm().on("actioncomplete",g);c.el.mask("Wait...","x-mask-loading");c.getForm().load({url:c.url})}});};